<script type="text/javascript" src = "https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script type="text/javascript" src = "https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

  <div id = "events">
  </div>

  <script type = "foo/bar" id = "eventTemplate">
     <h2><%=study%></h2>
     <p><%=compensation%></p>
     <p><%=duration%></p>
     <p><%=location%></p>
     <p><%=duration%></p>
     <img src = "<%=iconURL%>" height= "80" width = "60"></img>

  </script> 

  <script type="text/javascript">
    Parse.initialize("susDpNWLgi3QqeprNxBKeQ7uIJK0srYlde52neVb", "OMWpK5Oa17fiNcDyTkqvbKz2HHL6szH4jPYXlhz0");
     var template = $("#eventTemplate").html();
     us_template = _.template(template);
     var createEvent = function(a) {
         $("#events").append(us_template(a));
      }
     var TestObject = Parse.Object.extend("TestObject");
     var testObject = new TestObject();
     testObject.save({foo: "Frank123"}).then(function(object) {
     });

     var EventObject = Parse.Object.extend("event");
     var query = new Parse.Query(EventObject);
     query.include('lab');

     query.find({
        success: function(results) {

         for (var i = 0; i<9; i++)
         {

           var object = results[i].attributes;
           object.iconURL = object.lab.attributes.Icon._url;
           createEvent(object);
         }
         //document.write("success");
       // The object was retrieved successfully.
       document.getElementById("1").innerHTML = "success";
     },
       error: function(object, error) {

         //document.write("failure");
       // The object was not retrieved successfully.
       // error is a Parse.Error with an error code and message.
        document.getElementById("1").innerHTML = "error";
     }
    });

   </script>



<!--
=======
<p id = "1"></p>
<p id = "2"></p>
>>>>>>> origin/master
<div ng-controller="IndexController">

  <div class="list">

  <label class="item item-input item-select">

      <img src="/imags/NUwildcats.png" width="50px"; height="40px">
      <div style="margin-left:20px; color:#9933ff; font-weight:bold; font-size:120%">
        NU Bulletin Board
      </div>
    <select>
      <option>Research</option>
      <option selected>Music</option>

    </select>
  </label>

</div>




<div class="list" ng-repeat="poster in posters" ng-controller="IndexController">

    <a class="item item-thumbnail-left" href="#">
      <img src="{{poster.cover}}" onclick="window.location.href='showPoster.html'">



  <script type="text/javascript">

  Parse.initialize("susDpNWLgi3QqeprNxBKeQ7uIJK0srYlde52neVb", "OMWpK5Oa17fiNcDyTkqvbKz2HHL6szH4jPYXlhz0");

    var TestObject = Parse.Object.extend("TestObject");
    var testObject = new TestObject();
    testObject.save({foo: "Frank100"}).then(function(object) {
    });

    </script>
    <script type="text/javascript">
  var TestObject = Parse.Object.extend("event");
  var query = new Parse.Query(TestObject);
  query.limit(10);
  query.find({
     success: function(results) {

      for (var i = 0; i<results.length; i++)
      {
        var object = results[i]
        var study = object.get("study");
        var location = object.get("location");
        var compensation = object.get("compensation");
        var duration = object.get("duration");
        var file = object.get("cover");
        var imageURL = file.url();




        document.write("<h2>"+study+"</h2>");
        document.write("<p>"+location+"</p>");
        document.write("<p>"+compensation+"</p>");
        document.write("<p>"+duration+"</p>");
        //document.write("<img src= imageURL" height ="80" width ="60" "</img>");
      }

      
      //document.getElementById("2").innerHTML = study;
      //document.getElementById("3").innerHTML = location;
      //document.getElementById("4").innerHTML = compensation;
      //document.getElementById("5").innerHTML = duration;



      //<p id = "3"></p>
      //<p id = "4"></p> 
      //<p id = "5"></p>



      //document.write("success");
    // The object was retrieved successfully.
    document.getElementById("1").innerHTML = "success";
  },
    error: function(object, error) {
      //document.write("failure");
    // The object was not retrieved successfully.
    // error is a Parse.Error with an error code and message.
     document.getElementById("1").innerHTML = "error";
  }
});


/*
  var lab = TestObject.get("lab");
  var study = TestObject.get("study");
  var duration = TestObject.get("duration");
  var compensation = TestObject.get("compensation");
  var location = TestObject.get("location");

  var objectId = TestObject.id;
  var updatedAt = TestObject.updatedAt;
  var createdAt = TestObject.createdAt;
  var test = 5;
  document.getElementById("output").innerHTML=test;
*/

  </script>


<!--
      <h2 id = "2"></h2>
      <p id = "3"></p>
      <p id = "4"></p> 
      <p id = "5"></p>
    -->
    </a>

</div>

</div>


<style>
    .container
    {
        width:100%;
    }
    #M-button
    {
        width:50%;
        display: inline !important;
    }
    #R-button
    {
        width:50%;
        display: inline !important;
    }
</style>
</html>

<!--
<script src="/app/Home/scripts/IndexController.js" type="text/javascript"></script>
-->